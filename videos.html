<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Pruebas</title>
	<style>
		.controls{
			position: relative;
			top: 30px;
		}
	</style>
</head>
<body>
	<div class="wrapper" data-player="vimeo">
		<h1>Vimeo</h1>
		<div class="controls">
	  		<button>Play</button>
		</div>
		<iframe class="vmplayer" src="//player.vimeo.com/video/22423482?api=1&title=0&badge=0&portrait=0&byline=0" width="640" height="390" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
	</div>
	<div class="wrapper" data-player="youtube">
		<h1>Youtube</h1>
		<div class="controls">
	  		<button>Play</button>
		</div>
		<div class="ytplayer" id="tal" width="640" height="390" data-src="idr01rpcSfM"></div>
	</div>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
	<script src="http://www.youtube.com/iframe_api"></script>
  	<script>
var Froogaloop=function(){function e(a){return new e.fn.init(a)}function h(a,c,b){if(!b.contentWindow.postMessage)return!1;var f=b.getAttribute("src").split("?")[0],a=JSON.stringify({method:a,value:c});"//"===f.substr(0,2)&&(f=window.location.protocol+f);b.contentWindow.postMessage(a,f)}function j(a){var c,b;try{c=JSON.parse(a.data),b=c.event||c.method}catch(f){}"ready"==b&&!i&&(i=!0);if(a.origin!=k)return!1;var a=c.value,e=c.data,g=""===g?null:c.player_id;c=g?d[g][b]:d[b];b=[];if(!c)return!1;void 0!==
a&&b.push(a);e&&b.push(e);g&&b.push(g);return 0<b.length?c.apply(null,b):c.call()}function l(a,c,b){b?(d[b]||(d[b]={}),d[b][a]=c):d[a]=c}var d={},i=!1,k="";e.fn=e.prototype={element:null,init:function(a){"string"===typeof a&&(a=document.getElementById(a));this.element=a;a=this.element.getAttribute("src");"//"===a.substr(0,2)&&(a=window.location.protocol+a);for(var a=a.split("/"),c="",b=0,f=a.length;b<f;b++){if(3>b)c+=a[b];else break;2>b&&(c+="/")}k=c;return this},api:function(a,c){if(!this.element||
!a)return!1;var b=this.element,f=""!==b.id?b.id:null,d=!c||!c.constructor||!c.call||!c.apply?c:null,e=c&&c.constructor&&c.call&&c.apply?c:null;e&&l(a,e,f);h(a,d,b);return this},addEvent:function(a,c){if(!this.element)return!1;var b=this.element,d=""!==b.id?b.id:null;l(a,c,d);"ready"!=a?h("addEventListener",a,b):"ready"==a&&i&&c.call(null,d);return this},removeEvent:function(a){if(!this.element)return!1;var c=this.element,b;a:{if((b=""!==c.id?c.id:null)&&d[b]){if(!d[b][a]){b=!1;break a}d[b][a]=null}else{if(!d[a]){b=
!1;break a}d[a]=null}b=!0}"ready"!=a&&b&&h("removeEventListener",a,c)}};e.fn.init.prototype=e.fn;window.addEventListener?window.addEventListener("message",j,!1):window.attachEvent("onmessage",j);return window.Froogaloop=window.$f=e}();
  	</script>
	<script>
		$(function() {
			window.player;
			var iframe = $('.ytplayer')[0];
    		onYouTubeIframeAPIReady = function() {
    			player = new YT.Player(iframe.id,{
    				width: iframe.width,
    				height: iframe.height,
    				videoId: iframe.dataset.src,
    				playerVars: {
	                    controls: 0,
	                    showinfo: 0,
	                    modestbranding: 1,
	                    wmode: 'transparent'
	                }
    			});
    		}
		    $('body').on('click','button', function(e) {
		    	e.preventDefault();
   				var that = this;
		    	var wrapper = $(that).parents('.wrapper')[0];
		    	var type = wrapper.dataset.player;

		    	if (type=='vimeo') { //Vimeo
		    		var iframe = $(that).parents('.wrapper').find('.vmplayer')[0];
			    	var player = $f(iframe);

			         player.api('paused', function (value, player_id){
			         	var acc = false;
			         	if (value) acc = true;
			         	player.api( (acc) ? 'play':'pause' );
			         	$(that).text( (!acc) ? 'Play':'Pause' );
			         });		         
		    	}else{ //Yotube
		    		var playing = false;
		    		var iframe = $(that).parents('.wrapper').find('.ytplayer')[0];
		    		switch(window.player.getPlayerState()){
		    			case 2: case 5:
		    				window.player.playVideo();
		    				playing = true;
		    			break;
		    			case 1:
		    				window.player.pauseVideo();
		    			break;
		    		}
		    		$(that).text( (!playing) ? 'Play':'Pause' );
		    	}
		    });
		});
	</script>
</body>
</html>